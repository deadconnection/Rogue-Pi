if (self.CavalryLogger) { CavalryLogger.start_js(["YNkcf"]); }

__d("MFirefoxAppDetect",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){__p&&__p();if(!navigator.mozApps){b();return}if(window.locationbar&&!window.locationbar.visible){a();return}if(navigator.mozApps.getSelf){var c=navigator.mozApps.getSelf();c.onsuccess=function(){c.result?a():b()};c.onerror=b}else b()}f.isFirefoxApp=a}),null);
__d("MPageHeaderLeft",["$","DOM","MFirefoxAppDetect"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j={};function k(a){if(!j.back_button){var b=g("page");j.back_button=h.find(b,"a","back-button");j.menu_button=h.find(b,"a","menu-link")}a.show_back_button?(h.hide(j.menu_button),h.show(j.back_button)):(h.hide(j.back_button),h.show(j.menu_button))}a=function a(b){var c=window.navigator;c.standalone||j.isMozApp?k(b):j.isMozApp===undefined&&(j.lastConfig=b,i.isFirefoxApp(function(){j.isMozApp=!0,b===j.lastConfig&&(a(b),delete j.lastConfig)},function(){j.isMozApp=!1}))};f.main=a}),null);
__d("MUFICommentReplyLink",["DOM","MAjaxify","MParent","MRequest","MUFIConfig","MUFIInlineRepliesFunnelLogConfig","Stratcom","SubscriptionsHandler","ge"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();var p="feed-ufi-comments",q=l.MUFIInlineReplyComposerFunnelLogger;function a(a){var b=a.composerID,c=a.placeholderID,d=a.node,e=a.loadComposerURI,f=a.loggingTargetFBID;k.canReactToComment&&(d.href&&d.setAttribute("data-uri",d.href),d.removeAttribute("href"));var h=new n();h.addSubscriptions(g.listen(d,"click",null,function(event){r({composerID:b,placeholderID:c,loadComposerURI:e,loggingTargetFBID:f,onPreventDefault:function(){event.prevent()}})}),g.listen(d,"mousedown",null,function(event){m.invoke("MCommentComposer:replyButtonClick",null,{composerID:b})}),m.listen("m:page:unload",null,function(){h.release()}),m.listen("m:feed-ufi-flyout:reset",null,function(){h.release()}))}function b(a){var b=new n();b.addSubscriptions(m.listen("obj:finally",null,function(c){c=g.scry(a,"*","mufi-composer")[0];c&&c.focus&&c.focus();b.release()}))}function r(a){__p&&__p();var b=a.composerID,c=a.placeholderID,d=a.loadComposerURI,e=a.loggingTargetFBID;a=a.onPreventDefault;e&&q&&q.logReplyClicked(e);e=o(b);b=e&&g.scry(e,"*","mufi-composer")[0];if(b){a();i.bySigil(e,p)?m.invoke("MUFICommentReplyLink:show-inline-composer",null,{composerRoot:e}):b.focus();return}e=o(c);if(e&&d){a();h.ajaxify(null,e,new j(d),null);return}}e.exports={initInlineReplies:a,focusOrLoadInlineReplyComposer:r,bindFocusInlineReplyComposerAfterPageFinish:b}}),null);
__d("TypeaheadNormalizer",[],(function(a,b,c,d,e,f){a={normalize:function(a){return(""+a).toLocaleLowerCase().replace(/[\.,-\/#!$%\^&\*;:{}=\-_`~()]/g,"").replace(/ +/g," ").replace(/^\s*|\s*$/g,"")}};e.exports=a}),null);
__d("TypeaheadInternationalNormalizer",["TypeaheadNormalizer"],(function(a,b,c,d,e,f,g){var h={normalize:function(a){var b=h._charmap;return g.normalize(a).replace(/[\u00e0-\u0450]/g,function(a){return a in b?b[a]:a})},_charmap:{"\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xe6":"ae","\xe7":"c","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xf0":"d","\xf1":"n","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xfd":"y","\xff":"y","\u0153":"oe","\u0430":"a","\u0431":"b","\u0432":"v","\u0433":"g","\u0434":"d","\u0435":"e","\u0437":"z","\u0438":"i","\u0439":"j","\u043a":"k","\u043b":"l","\u043c":"m","\u043d":"n","\u043e":"o","\u043f":"p","\u0440":"r","\u0441":"s","\u0442":"t","\u0443":"u","\u0444":"f","\u0445":"h","\u0446":"c","\u0447":"ch","\u0448":"sh","\u044b":"y","\u044d":"e","\u044e":"u","\u044f":"ya"}};e.exports=h}),null);
__d("TypeaheadSource",["DOM","TypeaheadNormalizer","createDeprecatedProperties","eventsMixinDeprecated","ex"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();function a(a){"use strict";a=a||{},this.disableLongerQueryCacheHit=a.disableLongerQueryCacheHit,this._raw={},this._lookup={},this._firstSeenOnValue={},this.setNormalizer(h.normalize),this._excludeIDs={}}a.prototype.bindToTypeahead=function(a){"use strict";this._changeListener=a.listen("change",this.didChange.bind(this)),this._startListener=a.listen("start",this.didStart.bind(this)),this._clearListener=a.listen("clear",this.didClear.bind(this))};a.prototype.unbindFromTypeahead=function(){"use strict";this._changeListener.remove(),this._startListener.remove(),this._clearListener.remove(),this._clearListener=null};a.prototype.didChange=function(a){"use strict";return};a.prototype.didStart=function(){"use strict";return};a.prototype.didClear=function(){"use strict";return};a.prototype.clearCache=function(){"use strict";this._raw={},this._lookup={}};a.prototype.addExcludeID=function(a){"use strict";a&&(this._excludeIDs[a]=!0)};a.prototype.removeExcludeID=function(a){"use strict";a&&delete this._excludeIDs[a]};a.prototype.addResult=function(a,b){"use strict";__p&&__p();a=(this.getTransformer()||this._defaultTransformer)(a);if(a.id in this._raw)return;this._raw[a.id]=a;this._firstSeenOnValue[a.id]=this._firstSeenOnValue[a.id]||b;b=this.tokenize(a.tokenizable||a.name);for(var c=0;c<b.length;++c){this._lookup[b[c]]=this._lookup[b[c]]||[];if(Object.prototype.toString.call(this._lookup[b[c]])!=="[object Array]")throw new Error(k("Lookup entry was not an array. key: %s. value: %s",b[c],this._lookup[b[c]]));this._lookup[b[c]].push(a.id)}};a.prototype.waitForResults=function(){"use strict";this.invoke("waiting");return this};a.prototype.getResult=function(a){"use strict";return this._raw[a]};a.prototype.emptyResults=function(){"use strict";return[]};a.prototype.getMatchedResults=function(a){"use strict";__p&&__p();var b=[];if(a==="")b=this.emptyResults();else{var c=a,d={},e={},f={},g={},h=this.getQueryExtractor();h&&(a=h(a));h=this.tokenize(a);var i=h[h.length-1];h.sort(function(a,b){return b.length-a.length});for(var j=0;j<h.length;++j){if(h[j]in g){h.splice(j--,1);continue}g[h[j]]=!0;var k=h[j];for(var l in this._lookup){var m=this.checkFragmentMatches(l,k,c,i);if(m){if(!(l in f))f[l]=!0;else continue;m=this._lookup[l];for(var n=0;n<m.length;++n){var o=m[n];e[o]||(e[o]={});k in e[o]||(e[o][k]=!0,d[o]=(d[o]||0)+1)}}}}for(var p in d)d[p]==h.length&&!this._excludeIDs[p]&&(!this.disableLongerQueryCacheHit||!this._firstSeenOnValue[p]||this._firstSeenOnValue[p].length<=a.length)&&b.push(p)}this.sortHits(a,b);return this.renderNodes(a,b)};a.prototype.checkFragmentMatches=function(a,b,c,d){"use strict";return a.substr(0,b.length)===b};a.prototype.matchResults=function(a){"use strict";a=this.getMatchedResults(a);this.invoke("resultsready",a);this.invoke("complete")};a.prototype.sortHits=function(a,b){"use strict";__p&&__p();var c=[],d;for(d=0;d<b.length;d++)c.push(this._raw[b[d]]);var e=function(a,b){a=a.sort||a.name;b=b.sort||b.name;return a.localeCompare(b)},f=this.getSortHandler()||function(a,b,c){b.sort(c)};f.call(this,a,c,e);b.splice(0,b.length);for(d=0;d<c.length;d++)b.push(c[d].id)};a.prototype.renderNodes=function(a,b){"use strict";__p&&__p();a=Math.min(this.getMaximumResultCount(),b.length);var c=[];for(var d=0;d<a;d++)if(b[d]in this._raw){var e=this._raw[b[d]];this.clientRendered||(e=this.createNode(e));c.push(e)}return c};a.prototype.createNode=function(a){"use strict";return g.create("a",{sigil:"typeahead-result",href:a.uri,name:a.name,rel:a.id,className:"jx-result"},a.display)};a.prototype.normalize=function(a){"use strict";return this.getNormalizer()(a)};a.prototype.tokenize=function(a){"use strict";a=this.normalize(a);return!a.length?[]:a.split(/\s/g)};a.prototype._defaultTransformer=function(a){"use strict";return{name:a[0],display:a[0],uri:a[1],id:a[2]}};j(a,["waiting","resultsready","complete","after_complete","initial_render","initial_results_ready","req_dispatch","req_sent","req_recv","unlock_render"]);i(a,{normalizer:null,queryExtractor:null,transformer:null,maximumResultCount:5,sortHandler:null});Object.assign(a.prototype,{_raw:null,_lookup:null,_firstOnValue:null,_excludeIDs:null,_changeListener:null,_startListener:null,_clearListener:null,clientRendered:!1});e.exports=a}),null);
__d("TypeaheadOnDemandSource",["setTimeoutAcrossTransitions","TypeaheadSource","createDeprecatedProperties"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;b=babelHelpers.inherits(a,h);j=b&&b.prototype;function a(a,b){"use strict";j.constructor.call(this,b),this.uri=a,this.haveData={"":!0}}a.prototype.didChange=function(a){"use strict";this.lastChange=Date.now(),a=this.normalize(a),this.haveData[a]?this.matchResults(a):(this.waitForResults(),g(this.sendRequest.bind(this,this.lastChange,a),this.getQueryDelay()))};a.prototype.sendRequest=function(){"use strict";throw new Error("Use MTypeaheadOnDemandSource!")};a.prototype.ondata=function(a,b,c){"use strict";if(c)for(var d=0;d<c.length;d++)this.addResult(c[d],b);this.haveData[b]=!0;if(a!=this.lastChange)return;this.matchResults(b)};a.prototype.clearCache=function(){"use strict";j.clearCache.call(this),this.haveData={"":!0}};i(a,{queryDelay:125,auxiliaryData:{}});Object.assign(a.prototype,{uri:null,lastChange:null,haveData:null});e.exports=a}),null);
__d("TypeaheadCompositeSource",["TypeaheadSource","TypeaheadOnDemandSource","isElementNode"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;b=babelHelpers.inherits(a,g);j=b&&b.prototype;function a(a,b){"use strict";__p&&__p();j.constructor.call(this);b=b||{};this.sources=a;this.cacheSourceCount=a.length;this.isWorkUser=b.isWorkUser;this.delayRender=!1;this.allowEmptyMergeKey=!0;this.shouldMergeResults=!0;for(var a=0;a<this.sources.length;++a){b=this.sources[a];b.listen("waiting",this.childWaiting.bind(this));b.listen("resultsready",this.childResultsReady.bind(this));b.listen("complete",this.childComplete.bind(this));b instanceof h&&(b.listen("req_dispatch",this.childRequestDispatch.bind(this)),b.listen("req_sent",this.childRequestSent.bind(this)),b.listen("req_recv",this.childRequestReceived.bind(this)),b.listen("unlock_render",this.startRender.bind(this)),b.enableImmediateReturnOfCachedResults===!1&&--this.cacheSourceCount,b.enableEagerSendRequest&&(this.delayRender=!0),this.listen("initial_results_ready",b.setCacheResultsLength.bind(b)))}}a.prototype.didChange=function(a){"use strict";this.results=[];this.completeCount=0;this.readyCount=0;this.lockRender=!0;for(var b=0;b<this.sources.length;++b)this.sources[b].didChange(a)};a.prototype.didStart=function(){"use strict";for(var a=0;a<this.sources.length;++a)this.sources[a].didStart()};a.prototype.didClear=function(){"use strict";this.results=[]};a.prototype.addExcludeID=function(a){"use strict";for(var b=0;b<this.sources.length;++b)this.sources[b].addExcludeID(a)};a.prototype.removeExcludeID=function(a){"use strict";for(var b=0;b<this.sources.length;++b)this.sources[b].removeExcludeID(a)};a.prototype.childWaiting=function(){"use strict";(!this.results||!this.results.length)&&this.invoke("waiting")};a.prototype.childResultsReady=function(a){"use strict";this.shouldMergeResults?this.results=this.mergeResults(this.results||[],a):this.results=a,++this.readyCount,this.readyCount==this.cacheSourceCount&&(this.results!==null&&this.results.forEach(function(a){a.isFromCache=!0}),this.invoke("initial_results_ready",this.countValidResults(this.results))),(!this.delayRender||!this.lockRender)&&(this.invoke("resultsready",this.results),this.readyCount==this.cacheSourceCount&&this.invoke("initial_render"))};a.prototype.childComplete=function(){"use strict";this.completeCount++,this.completeCount==this.sources.length&&(this.invoke("complete"),this.invoke("after_complete"))};a.prototype.childRequestDispatch=function(a){"use strict";this.invoke("req_dispatch",a)};a.prototype.childRequestSent=function(){"use strict";this.invoke("req_sent")};a.prototype.childRequestReceived=function(a){"use strict";this.invoke("req_recv",a)};a.prototype.startRender=function(){"use strict";this.lockRender=!1,this.invoke("resultsready",this.results),this.invoke("initial_render")};a.prototype.showQueryResultsOnFocus=function(){"use strict";(!this.delayRender||!this.lockRender)&&this.invoke("resultsready",this.results)};a.prototype.countValidResults=function(a){"use strict";var b=0;a.forEach(function(a){a=i(a)?a.getAttribute(this.mergeKey):a[this.mergeKey];a!=null&&++b},this);return b};a.prototype.getResult=function(a){"use strict";var b;for(var c=0;c<this.sources.length;++c){b=this.sources[c].getResult(a);if(b!==undefined)break}return b};a.prototype.disableEmptyMergeKey=function(){"use strict";this.allowEmptyMergeKey=!1};a.prototype.mergeResults=function(a,b){"use strict";__p&&__p();var c=[].concat(a);if(b.length===0)return c;var d={},e;for(e=0;e<a.length;++e){var f=a[e];f=i(f)?f.getAttribute(this.mergeKey):f[this.mergeKey];d[f]=!0}for(e=0;e<b.length;++e){f=b[e];a=i(f)?f.getAttribute(this.mergeKey):f[this.mergeKey];(this.allowEmptyMergeKey||a!=null)&&!(a in d)&&c.push(f)}return c};a.prototype.setShouldMergeResults=function(a){"use strict";this.shouldMergeResults=a};Object.assign(a.prototype,{sources:null,results:null,completeCount:0,mergeKey:"rel",isWorkUser:!1});e.exports=a}),null);
__d("TypeaheadPreloadedSource",["TypeaheadSource"],(function(a,b,c,d,e,f,g){__p&&__p();var h;b=babelHelpers.inherits(a,g);h=b&&b.prototype;function a(a){"use strict";h.constructor.call(this),this.uri=a}a.prototype.didChange=function(a){"use strict";this.ready?this.matchResults(a):(this.lastValue=a,this.waitForResults())};a.prototype.didStart=function(){"use strict";throw new Error("Use MTypeaheadPreloadedSource!")};a.prototype.ondata=function(a){"use strict";for(var b=0;b<a.length;++b)this.addResult(a[b]);this.lastValue!==null&&this.matchResults(this.lastValue);this.ready=!0};Object.assign(a.prototype,{ready:!1,uri:null,lastValue:null});e.exports=a}),null);
__d("MDynaTemplate",["HTML","ex"],(function(a,b,c,d,e,f,g,h){__p&&__p();var i={_otag:"[[",_regexOtag:"\\[\\[",_regexCtag:"\\]\\]",_regexTag:0,_regexNewTag:0,_templates:{},_alias:{},_contains:function(a,b){return b.indexOf(i._otag+a)!=-1},_escapeChar:function(a){switch(a){case"&":return"&amp;";case'"':return"&quot;";case"'":return"&#39;";case"<":return"&lt;";case">":return"&gt;";default:return a}},_escape:function(a){a=a===null?"":""+a;return a.replace(/&(?!\w+;)|[\"\'<>]/g,i._escapeChar)},registerTemplates:function(a){for(var b in a){var c=a[b];i._alias[c[0]]=c[1];i._templates[b]=c[1]}},renderToHtml:function(a,b){__p&&__p();if(a.charAt(0)=="@")return i.renderToHtml(i._alias[a.substring(1)],b);(i._contains("#",a)||i._contains("^",a))&&(a=a.replace(i._regexTag,function(a,c,d,e){__p&&__p();a=b[d];a=a&&a.__html!==undefined?a.__html:a;if(c=="^")if(!a||Array.isArray(a)&&a.length===0)return i.renderToHtml(e,b);else return"";else if(c=="#"){if(Array.isArray(a)){d=[];for(var c=0;c<a.length;c++)d.push(i.renderToHtml(e,a[c]));return d.join("")}else if(a&&typeof a=="object")return i.renderToHtml(e,a);else if(!(typeof a=="function"))if(a)return i.renderToHtml(e,b);return""}}));return!i._contains("",a)?a:a.replace(i._regexNewTag,function(a,c,d){__p&&__p();d=d.replace(/^\s*|\s*$/g,"");a=b[d];if(!a||Array.isArray(a)&&a.length===0)return"";switch(c){case">":if(a[0].charAt(0)=="@")return i.renderToHtml(a[0],a[1]);else if(!(a[0]in i._templates))return"";return i.renderToHtml(i._templates[a[0]],a[1]);case"%":break;default:return window.HTML&&a instanceof g?a.toString():a.__html!==undefined?a.__html:i._escape(a)}})}};(function(){i._regexTag=new RegExp(i._regexOtag+"(\\^|\\#)\\s*(.+)\\s*"+i._regexCtag+"\n*([\\s\\S]+?)"+i._regexOtag+"\\/\\s*\\2\\s*"+i._regexCtag+"\\s*","mg"),i._regexNewTag=new RegExp(i._regexOtag+"(>|\\[|%)?([^\\/#\\^]+?)\\1?"+i._regexCtag+"+","g")})();e.exports=i}),null);
__d("MInputFocus",["DOM","MViewport","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i){a={scrollTo:function(a,b){i(function(){g.hide(a),h.scrollTo(0,b),g.show(a),a.setSelectionRange(a.selectionEnd,a.selectionEnd)},0)}};e.exports=a}),null);
__d("prefetchImage",[],(function(a,b,c,d,e,f){__p&&__p();function a(a,b){__p&&__p();var c=!0,d=new Image();d.onload=function(){c=!1,b&&b()};d.src=a;return{cancel:function(){if(!c)return;c=!1;d.onload=null;d.src="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw=="}}}e.exports=a}),null);
__d("MPhotoStage",["setTimeoutAcrossTransitions","CSS","cx","DOM","Stratcom","Vector","MLegacyDataStore","MURI","MRequest","MViewport","MInputFocus","MJSEnvironment","prefetchImage"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s){__p&&__p();var t=!1,u="photo-stage",v="photo-image",w="facebox",x="new-tag-placeholder",y="photos-input-tag-notice",z="photos-input-tag",A="photo-tag-loading",B="popup-nub",C="tokenizer-input",D="transfer-focus-container",E=2e3,F=200,G=null,H=null,I=null,J=null;function K(a,b,c){var d=0,e=p.getUseableWidth();c>e?d=c-e:b<0&&(d=b);return d===0?a:new l(a.x-d,a.y)}function L(a){if(!a)return;h.conditionClass(a,"_57-n",!!I);I?(clearTimeout(I),I=null):I=g(function(){L(a)},E)}function M(){G=null;while(J.length)J.pop().remove();t=!1;I&&(clearTimeout(I),I=null)}function N(a){var b=l.getPos(a);a=l.getDim(a);var c=l.getPos(G);b=new l(b.x+a.x/2,b.y+a.x-c.y);a=j.find(G,"*",A);b.setPos(a);j.show(a)}function O(a,b,c){__p&&__p();var d=new n(a.write_tag_uri);d.addQueryData("id",a.owner_id);d.addQueryData("facebox_id",b.facebox_id);d.addQueryData("replace_id",x);d.addQueryData("sd_source",a.source);d.addQueryData("sd_set",a.set);a={};a["ids["+c+"]"]=c;a["x["+c+"]"]=b.facebox_center.x;a["y["+c+"]"]=b.facebox_center.y;c=new o(d.normalize().toString()).addData(a);return c}function P(a,b){__p&&__p();H=a;var c=j.find(G,"*",z),d=j.find(G,"*",y),e=l.getPos(G),f=l.getPos(a);a=l.getDim(a);a=new l(f.x+a.x/2,f.y+a.y-e.y);e=K(a,a.x-F/2,a.x+F/2);var g=j.find(c,"*",B);g.style.left=a.x-e.x+"px";g=m.get(H);g.suggestions&&b.tokenizer.updateSuggestionsIds(g.suggestions);e.setPos(c);j.show(c);j.show(d);a=j.find(c,"*",C);a.focus();q.scrollTo(a,f.y);I&&(clearTimeout(I),I=null)}function Q(a){__p&&__p();var b=j.find(G,"*",z),c=j.find(G,"*",y);if(H){var d=m.get(H),e=m.get(G);e=O(e,d,a);N(H);e.listen("finally",function(){var a=j.find(G,"*",A);j.hide(a);L(G)});e.send();j.hide(H);j.hide(b);j.hide(c);j.find(b,"*",C).blur();H=null}I=g(function(){L(G)},E)}a=function(a,b){__p&&__p();if(t)return;G=a;t=!0;a="touchend";r.IS_ANDROID&&(a="click");b&&b.use_faceboxes?J=[k.listen(a,u,function(event){if(H){var a=j.find(G,"*",z),b=j.find(G,"*",y);j.find(a,"*",C).blur();j.hide(a);j.hide(b);H=null;event.kill()}else L(event.getNode(u))}),k.listen(a,w,function(event){var a=j.find(G,"*",D),b=event.getNode(w);P(b,a);event.kill()}),k.listen(a,D,function(event){var a=event.getNode(D);a=j.find(a,"*",C);a.focus();H&&q.scrollTo(a,l.getPos(H).y);event.kill()}),k.listen("Tokenizer-addedtoken",null,function(event){Q(event.getData().rel)})]:J=[k.listen("touchend",u,function(event){L(event.getNode(u))})];J.push(k.listen("m:page:unload",null,M));b=j.scry(G,"*",v);b.length>0&&m.get(b[0]).imgsrc?s(m.get(b[0]).imgsrc,function(){return L(G)}):L(G)};f.main=a}),null);
__d("MMultiPhotoUploaderAttachmentState",[],(function(a,b,c,d,e,f){__p&&__p();var g={SENDING:"sending",UPLOADED:"uploaded",ERROR:"error"};g.getDefaultState=function(){var a={};for(var b in g){if(!Object.prototype.hasOwnProperty.call(g,b)||typeof g[b]!=="string")continue;a[g[b]]=0}return a};e.exports=g}),null);
__d("MTouchAfro",["CSS","MLegacyDataStore","DOM","MModalDialog","MRequest","MXUIDiv.react","Parent","React","ReactDOM","Stratcom","URI","$","csx","cx","fbt","ge","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w){__p&&__p();var x=null,y=null,z=null,A={renderNFXReport:function(a,b){w(function(){g.hide(a),A.openDialog(b)},500)},initUndoHide:function(){if(x!==null)return;x=p.listen("click","afro-undo-hide",function(a){a=a.getNode("undo-content");var b=h.get(a).storyDomID;i.hide(a);i.show(r(b))});p.listen("m:page:unload",null,function(){x.remove(),p.removeCurrentListener()})},hideOriginalContent:function(a){i.hide(r(a))},initDoneListener:function(a,b){__p&&__p();if(y!==null)return;y=p.listen("click","nfx-dialog-done",function(c){__p&&__p();if(a){c=r(a);if(c){var d=h.get(c).enhancedAfro;d&&g.addClass(c,"_2gft")}o.render(n.createElement(l,{padding:"large",fontshade:"medium",fontweight:"bold"},u._("Thanks for letting us know.")),r(a));if(b){d=v(b);d&&(i.remove(d),g.removeClass(m.bySelector(r(a),"._2b01"),"_2b01"))}}j.close()});p.listen("m:page:unload",null,function(){y.remove(),p.removeCurrentListener()})},showConfirmationPopup:function(a,b){a=confirm(a);if(a){a=new k(b);a.send()}},showInlineConfirmation:function(a,b){a=r(a);i.hide(a);i.insertAfter(a,b);a=i.scry(b,"a","touchable");a[0]&&a[0].focus()},redirect:function(a,b){if(!b)window.location=a;else{b=new k(a);b.send()}},redirectOnClick:function(a,b){p.listen("click",b,function(b){window.location=a})},openDialog:function(a){j.open(a)},openDialogOnClick:function(a,b){var c=p.listen("click",b,function(b){j.open(a)});p.listen("m:page:unload",null,function(){c.remove(),p.removeCurrentListener()})},initActionsTakenStore:function(){!1;if(z!==null)return;z=new Set();var a=p.listen("m-nfx-action-taken",null,function(a){return z.add(a.getData())});p.listen("m:page:unload",null,function(){a.remove(),p.removeCurrentListener()})},clearActionsTakenStore:function(){z=new Set()},invokeActionTaken:function(a){p.invoke("m-nfx-action-taken",null,a)},checkActionAgainstStore:function(a){var b=h.get(a);a=!1;z.forEach(function(c){c.action===b.action&&c.label===b.label&&(a=!0)});return a},addCancelButtonListener:function(){var a=r("modalDialog");i.listen(a,"click","dialog-cancel-button-alt",function(a){a.kill();j.close();return})},dialogLoadConfirmationScreenOnClick:function(a){i.listen(a,"click",null,function(a){a.kill();j.close();return})},logReportAdLinkClick:function(a,b){var c=i.listen(a,"click",null,function(){new k(b).send()});p.listen("m:page:unload",null,function(){c.remove(),p.removeCurrentListener()})},setupWildeDoneButton:function(){window.addEventListener("fbActionButtonClick",function(){return window.__fbNative.close()})}};e.exports=A}),null);
__d("MTouchTransferFocus",["CSS","DOM","Stratcom","MViewport","MLegacyDataStore"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l="transfer-focus-container",m="focus-provider",n="focus-receiver",o="focused";i.listen(["click","touchend"],[l,m],function(a){__p&&__p();var b=a.getNode(m),c=k.get(b);if(c.onclickIsSet)return;var d=a.getNode(l);b.onclick=function(){g.conditionClass(d,o,!0);var a=h.scry(d,"input",n)[0];if(a){a.focus();a=k.get(d);a.hideaddressbar&&setTimeout(function(){j.getScrollTop()<1&&j.scrollTo(0,1)},0)}};c.onclickIsSet=!0});i.listen("blur",[l,n],function(a){g.conditionClass(a.getNode(l),o,!1)})}),null);
__d("MImagePreloader",[],(function(a,b,c,d,e,f){function a(a){for(var b=0;b<a.length;b++){var c=new Image();c.src=a[b]}}f.init=a}),null);
__d("MTypeaheadCache",["MBootstrapCacheMaxCacheTime","MCache","URI"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j="1",k=12096e5;function l(a){var b=h.getItem(a);(!b||b.cacheVersion!==j)&&(b={cacheVersion:j,cachedKeys:{}},h.setItem(a,b));var c=b.cachedKeys,d=!1,e=g.maxCacheTimeByKey[a];e=e!=null?e:k;e=Date.now()-e;for(var f in c)c[f].time<e&&(d=!0,delete c[f]);d&&h.setItem(a,b);return b}function m(a){return"typeahead_"+a}function n(a){a=new i(a);var b=a.getQueryData();b=b.cacheBust;b||a.addQueryData("noBust","");a.removeQueryData("cacheBust");a=a.toString();return{cacheKey:a,busterToken:b}}a={get:function(a,b){b=n(b);var c=b.cacheKey;b=b.busterToken;a=l(m(a)).cachedKeys[c];return a&&a.cacheBusterToken===b?a.data:null},set:function(a,b,c){a=m(a);var d=l(a);b=n(b);var e=b.cacheKey;b=b.busterToken;d.cachedKeys[e]={cacheBusterToken:b,time:Date.now(),data:c};h.setItem(a,d)}};e.exports=a}),null);
__d("MTypeaheadCachableSource",["MRequest","MTypeaheadCache","TypeaheadPreloadedSource","createDeprecatedProperties","eventsMixinDeprecated"],(function(a,b,c,d,e,f,g,h,i,j,k){__p&&__p();var l;a=babelHelpers.inherits(m,i);l=a&&a.prototype;function m(a,b){"use strict";l.constructor.call(this,a),this.sourceKey=b||null}m.prototype.didStart=function(){"use strict";__p&&__p();var a=this.ondata,b=m._bootstrapping;if(this.sourceKey){if(b[this.sourceKey]===!0){m.listen("bootstrapped",function(a){a.source_key===this.sourceKey&&this.didStart()}.bind(this));return}b=h.get(this.sourceKey,this.uri);if(b){this.invoke("rawresultsready",b);a.call(this,b);return}}this.uri&&this.sendRequest()};m.prototype.sendRequest=function(){"use strict";__p&&__p();var a=m._bootstrapping;a[this.sourceKey]=!0;var b=new g(this.uri).setMethod("GET").setIgnoreErrors(!0);b.listen("done",function(b){__p&&__p();b=b!=null&&b.payload!=null?b.payload:b;b!=null&&Array.isArray(b.nullstate)&&(b=b.nullstate);Array.isArray(b)||(b=[]);for(var c=0;c<b.length;++c)b[c].bootstrap=1;this.sourceKey&&h.set(this.sourceKey,this.uri,b);this.invoke("rawresultsready",b);this.ondata.call(this,b);delete a[this.sourceKey];this.invoke("bootstrapped",{source_key:this.sourceKey})}.bind(this));b.listen("finally",function(){delete a[this.sourceKey]}.bind(this));b.listen("open",function(){var a=b.getTransport();a.withCredentials=!0;window.FW_ENABLED&&!this.getNofwheaders()&&(a.setRequestHeader("FB_FW","1"),window.FB_FW_VERSION&&a.setRequestHeader("FB_FW_VERSION",window.FB_FW_VERSION),window.FB_FW_DEVICE&&a.setRequestHeader("FB_FW_DEVICE",window.FB_FW_DEVICE))}.bind(this));this.getAuxiliaryData()&&b.setData(this.getAuxiliaryData());b.send()};k(m,["bootstrapped","rawresultsready"]);j(m,{nofwheaders:!1,showSecondaryAction:!1,auxiliaryData:{}});Object.assign(m,{_bootstrapping:{}});Object.assign(m.prototype,{sourceKey:null});e.exports=m}),null);
__d("MTypeaheadHelpers",["CSS","MLegacyDataStore","DOM","HTML","MDynaTemplate","cx","fbt","uniqueID","FWLoader"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();var o=b("FWLoader").FW,p=43,q=65536;a={getSecondaryAction:function(a){if(a.action=="phone")return this.getPhoneAction(a);else if(a.action=="add_friend")return this.getAddAction(a);else if(a.action=="add_contact")return this.getAddContactAction(a);else if(a.action=="message")return this.getMessageAction(a);return null},getPhoneAction:function(a){if(!a.paths||!(a.paths.mobile||a.paths.sms))return null;a=k.renderToHtml("@CallButtonTemplate",{call_uri:a.paths.mobile,call_style:a.paths.mobile?"":"display:none;",sms_uri:a.paths.sms,sms_style:a.paths.sms?"":"display:none;"});return new j(a)},getAddAction:function(a){return!a.paths||!a.paths[a.action]?null:new j(a.paths[a.action])},getAddContactAction:function(a){return!a.paths||!a.paths[a.action]?null:a.paths[a.action]},getMessageAction:function(a){a=k.renderToHtml("@MessageButtonTemplate",{message_uri:a.paths.message});return new j(a)},determineIconSize:function(a,b){__p&&__p();var c=b.photoSize||p;b=b.photo;var d=new Image(),e=function(b){__p&&__p();var a=this;if(b.type==="load"){b=document.getElementById(a.targetID);if(b){if(a.naturalWidth>c||a.naturalHeight>c){var d=window.devicePixelRatio,e=Math.round(a.naturalHeight/d);d=Math.round(a.naturalWidth/d);e=Math.min(e,c);d=Math.min(d,c);b.style.backgroundSize=d<e?d+"px auto":"auto "+e+"px"}b.style.backgroundImage="url("+a.src+")"}}a.onload=null;a.onerror=null;a.targetID=null};d.targetID=a;d.onload=e;d.onerror=e;d.src=b},getI18NTypeMap:function(a){var b={App:m._("App"),Event:m._("Event"),Group:m._("Group"),Page:m._("Page"),page:m._("page"),Place:m._("Place"),User:m._("User")};return b[a]?b[a]:a},createNode:function(a,b){__p&&__p();if(a instanceof HTMLElement)return a;var c=[];if(a.photo){var d=i.create("div",{className:"profile-icon"});c.push(d);this.determineIconSize(i.uniqID(d),a)}d=[a.display];if(a.verified)d.push(a.verified);else if(a.is_verified){var e=i.create("span",{className:"_56_f _5dzy _5dz_ _3twv badge"});d.push(e)}e=i.create("i",{className:"img presence",sigil:"presence"},"");i.hide(e);d.push(e);e=i.create("span",{className:"mfsl"},d);c.push(e);a.photo||g.conditionClass(e,"noimage",!0);d=a.subtext;g.conditionClass(e,"name",!0);d&&c.push(i.create("span",{className:"subtext mfss fcg"},d));e={href:a.uri,name:a.name||a.display,className:"primary touchable",sigil:"touchable typeahead-result",rel:a.id};a.meta&&(e.meta=a.meta);d=i.create("a",e,c);e=JSON.stringify(a);e.length>q||d.setAttribute("data-extra",e);d.setAttribute("data-testid",a.id);a.weak_reference&&d.setAttribute("weak_reference",!0);a.renderType&&d.setAttribute("renderType",a.renderType);window.FW_ENABLED&&o.isIOS()&&h.set(d,{nativeClick:!0});a.bootstrap&&h.set(d,{bootstrap:1});a.gender&&h.set(d,{gender:a.gender});a.untranslatedType&&h.set(d,{type:a.untranslatedType});a.openinnewtab&&d.setAttribute("target","_blank");a.isNullStateSuggestion&&h.set(d,{isNullStateSuggestion:a.isNullStateSuggestion});c=[d];if(b){e=this.getSecondaryAction(a);e&&c.push(e)}a.nativethirdpartyappicon&&c.push(new j(k.renderToHtml("@NativeThirdPartyAppIconTemplate")));d="jx-result";(a.nativethirdpartyappicon||b&&this.getSecondaryAction(a))&&(d+=" hasSecondaryAction");a.action=="add_friend"&&a.addfriendtemplate&&k.renderToHtml("@AddFriendLoadResourcesTemplate");e=i.create("div",{className:d,id:n(),rel:a.id,role:"option",sigil:"jx-result"+(a.action=="add_friend"?" undoable-action":"")},c);a.renderType!=null&&e.setAttribute("renderType",a.renderType);a.untranslatedType!=null&&e.setAttribute("type",a.untranslatedType);a.category!=null&&e.setAttribute("category",a.category);return e}};e.exports=a}),null);
__d("MTypeaheadOnDemandSource",["setTimeoutAcrossTransitions","MRequest","MTypeaheadHelpers","Stratcom","TypeaheadInternationalNormalizer","TypeaheadNormalizer","TypeaheadOnDemandSource","createDeprecatedProperties","throttle"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();var p;b=babelHelpers.inherits(a,m);p=b&&b.prototype;function a(a,b){"use strict";p.constructor.call(this,a,b),this.previousResults=null,this.setNormalizer(k.normalize),this.setSanitizer(l.normalize),this._allowFreeformEntry=!1,this._cacheResultsLength=0,this._maxResults=1e6,j.listen("m-typeahead-logger:new-session-id",null,function(a){this._sessionID=a.getData().sessionID}.bind(this))}a.prototype.setAllowFreeformEntry=function(a){"use strict";this._allowFreeformEntry=a};a.prototype.createNode=function(a){"use strict";return i.createNode(a,this.getShowSecondaryAction())};a.prototype.didChange=function(a){"use strict";__p&&__p();this.lastChange=Date.now();var b=this.getSanitizer()(a);if(this.haveData[b]){b=this.normalize(b);b=this.getMatchedResults(b);this.invoke("resultsready",b);this.enableEagerSendRequest&&this.invoke("unlock_render");this.invoke("complete")}else{this.enableImmediateReturnOfCachedResults===!0?(this.previousResults=this.getMatchedResults(a),this.invoke("resultsready",this.previousResults)):this.previousResults=null;if(this._cacheResultsLength>=this._maxResults){this.enableEagerSendRequest&&this.invoke("unlock_render");this.invoke("complete");return}this.enableEagerSendRequest||this.waitForResults();this.invoke("req_dispatch",this._sessionID);this.throttleSendRequest?this.throttleSendRequest(this.lastChange,a):g(this.sendRequest.bind(this,this.lastChange,a),this.getQueryDelay());this.enableEagerSendRequest&&(this.invoke("unlock_render"),this.waitForResults())}};a.prototype.setEnableImmediateReturnOfCachedResults=function(a){"use strict";this.enableImmediateReturnOfCachedResults=a};a.prototype.setEnableEagerSendRequest=function(a){"use strict";this.enableEagerSendRequest=a};a.prototype.setThrottleSendRequest=function(a){"use strict";this.throttleSendRequest=o.acrossTransitionsWithBlocking(this.sendRequest.bind(this),a)};a.prototype.setCacheResultsLength=function(a){"use strict";this._cacheResultsLength=a};a.prototype.setMaxResults=function(a){"use strict";this._maxResults=a};a.prototype.sendRequest=function(a,b){"use strict";__p&&__p();if(a!=this.lastChange)return;if(!this.uri)return;a=new h(this.uri);a.setData(Object.assign(this.getAuxiliaryData()||{},{q:b,session_id:this._sessionID}));a.setMethod("GET");a.listen("done",function(a,b,c){this.ondata(a,b,c)}.bind(this,this.lastChange,b));a.send();this.invoke("req_sent")};a.prototype.ondata=function(a,b,c){"use strict";__p&&__p();c=c.payload||c;this.invoke("req_recv",c?c.length:0);var d=0,e=0,f={};if(this.previousResults!=null){e=this.previousResults.length;for(d=0;d<this.previousResults.length;d++){var g=this.previousResults[d];g.idx=d;this._raw[g.id]=g;this.addToLookup(g.id,b);f[g.id]=g.id}}if(c){if(c.length!==0){for(g=0;g<c.length;++g)c[g].idx=g+e;for(g=0;g<c.length;g++)c[g].uid in f||this.addResult(c[g],b)}else this._allowFreeformEntry&&this.addResult({text:b,uid:0,path:"#"},b);this.haveData[b]=!0;if(a!=this.lastChange)return;this.matchResults(b)}};a.prototype.addResult=function(a,b){"use strict";var c=this.addToLookup.bind(this);a.uid in this._raw&&(this._raw[a.uid].idx=a.idx);a=(this.getTransformer()||this._defaultTransformer)(a);this._firstSeenOnValue[a.id]=this._firstSeenOnValue[a.id]||b;!(a.id in this._raw)?(this._raw[a.id]=a,c(a.id,a.name),c(a.id,b)):(this._raw[a.id]=a,c(a.id,b))};a.prototype.addToLookup=function(a,b){"use strict";b=this.tokenize(b);for(var c=0;c<b.length;++c)this._lookup[b[c]]=this._lookup[b[c]]||[],this._lookup[b[c]].push(a)};a.prototype.sortHits=function(a,b){"use strict";a=function(a,b){a=this._raw[a];a=isNaN(a.idx)?Number.MAX_VALUE:a.idx;b=this._raw[b];b=isNaN(b.idx)?Number.MAX_VALUE:b.idx;return a-b}.bind(this);b.sort(a)};a.prototype.renderNodes=function(a,b){"use strict";return m.prototype.renderNodes.apply(this,arguments)};a.prototype.clearCache=function(){"use strict";p.clearCache.call(this),this.previousResults=null};n(a,{sanitizer:null,transformer:function(a){return{name:a.text,uri:a.path,id:a.uid,photo:a.photo,display:a.display||a.text,action:a.action,paths:a.paths,permissions:a.permissions,photoSize:a.photo_size,type:a.type,openinnewtab:a.openinnewtab,subtext:a.text_only_subtext||a.subtext,nativethirdpartyappicon:a.nativethirdpartyappicon,idx:a.idx,renderType:a.render_type,untranslatedType:a.untranslated_type,verified:a.verified,weak_reference:a.weak_reference,geo_location_type:a.geo_location_type,city_id:a.city_id,city_text:a.city_text,isScoped:a.is_scoped,categoryID:a.cid,tagID:a.tid,category:a.category,location:a.location,street_address:a.street_address,postal_code:a.postal_code}},showSecondaryAction:!0});e.exports=a}),null);
__d("MTypeaheadTouchSource",["MTypeaheadCachableSource","MTypeaheadHelpers","TypeaheadInternationalNormalizer","createDeprecatedProperties"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();var k;b=babelHelpers.inherits(a,g);k=b&&b.prototype;function a(a,b){"use strict";k.constructor.call(this,a,b),this.setNormalizer(i.normalize)}a.prototype.createNode=function(a){"use strict";return h.createNode(a,this.getShowSecondaryAction())};a.prototype.matchResults=function(a){"use strict";a=this.normalize(a);g.prototype.matchResults.call(this,a)};a.prototype.ondata=function(a){"use strict";for(var b=0;b<a.length;++b)a[b].idx=b;g.prototype.ondata.apply(this,[a])};j(a,{transformer:function(a){var b=a.openinnewtab!=null?a.openinnewtab:a.type==="App";return{name:a.text,uri:a.path,id:a.uid,photo:a.photo,photoSize:a.photo_size,gender:a.gender,display:a.display||a.text,action:a.action,paths:a.paths,permissions:a.permissions,type:a.type,openinnewtab:b,subtext:a.subtext,nativethirdpartyappicon:a.nativethirdpartyappicon,bootstrap:a.bootstrap,idx:a.idx,tokenType:a.tokenType,renderType:a.render_type,untranslatedType:a.untranslated_type,weak_reference:a.weak_reference,is_verified:a.is_verified}},sortHandler:function(a,b,c){a=function(a,b){a=isNaN(a.idx)?Number.MAX_VALUE:a.idx;b=isNaN(b.idx)?Number.MAX_VALUE:b.idx;return a-b};b.sort(a)}});e.exports=a}),null);
__d("MTypeaheadTouchSourceWithSuggestions",["setTimeoutAcrossTransitions","MTypeaheadTouchSource","createDeprecatedProperties"],(function(a,b,c,d,e,f,g,h,i){__p&&__p();var j;b=babelHelpers.inherits(a,h);j=b&&b.prototype;function a(a,b,c){"use strict";j.constructor.call(this,a,b);this.setSuggestions(c);a=[];for(var b=0;b<c.length;++b)a.push(c[b].uid);this.setSuggestionsIds(a);this.setDefaultSuggestionsIds(a)}a.prototype.didStart=function(){"use strict";h.prototype.didStart.call(this),g(function(){var a=this.renderNodes(null,this.getSuggestionsIds());this.invoke("resultsready",a);this.invoke("complete")}.bind(this),0)};a.prototype.matchResults=function(a){"use strict";if(a.length===0){var b=this.getSuggestionsIds();this.getSuggestionsIds().length===0&&(b=this.getDefaultSuggestionsIds());b=this.renderNodes(null,b);this.invoke("resultsready",b);this.invoke("complete")}else h.prototype.matchResults.call(this,a)};i(a,{suggestions:[],suggestionsIds:[],defaultSuggestionsIds:[]});e.exports=a}),null);
__d("MCommentActionsFlyout",["Bootloader","CSS","DOM","MActionBubbleHelper","MLegacyDataStore","MModalDialog","MParent","MRequest","QE2Logger","Stratcom","URI","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r){__p&&__p();var s="ban_user_from_page_comment_sigil",t="editCommentSigil",u="editHistoryCommentSigil",v="deleteCommentSigil",w="deleteCommentAndBlockAuthorSigil",x="deleteCommentAndRemoveAuthorSigil",y="hideCommentSigil",z="muteMemberSigil",A="reportCommentSigil",B="commentFlyoutSigil",C=!1;function D(a,b,c){a=i.find(a,"*",b);j.toggleActionBubbleItem(a,c,"MCommentActionsFlyout",b)}function E(a,b,c){var d=i.find(a,"*",b),e=!!c.groupMuteCommenterInfo;j.toggleActionBubbleItem(d,e,"MCommentActionsFlyout",b);if(e&&b===z){d=i.scry(a,"*",b)[0];h.conditionClass(d,"_4ob2",!c.groupMuteCommenterInfo.is_commenter_muted)}}function F(a){a=m.bySigil(a,"comment-metadata");return a}function G(a,b){b=k.get(b);a.addQueryData("_ft_",b.linkdata)}function H(a,b){G(b,a);a=new n(b);a.send()}function I(a,b){l.open(b)}function J(){__p&&__p();var a=F(this.getCausalElement()),b=this.getRoot();a=k.get(a);D(b,t,!!a.editCommentURI);D(b,u,!!a.editHistoryCommentURI);D(b,v,!!a.deleteCommentURI);D(b,w,!!a.deleteCommentAndBlockAuthorURI);D(b,x,!!a.deleteCommentAndRemoveAuthorURI);D(b,y,!!a.hideCommentURI);E(b,z,a);D(b,A,!!a.reportCommentURI);D(b,s,!!a.banUserFromPageURIParams&&!C);a.deleteCommentURI&&!a.editCommentURI&&o.logExposureForUser("comments_action_delete_and_block")}function K(a){var b=k.get(a.getNode(B)),c=F(b.layer.getCausalElement()),d=k.get(c);a.getNode(t)?H(c,new q(d.editCommentURI)):a.getNode(u)?H(c,new q(d.editHistoryCommentURI)):a.getNode(v)?H(c,new q(d.deleteCommentURI)):a.getNode(w)?H(c,new q(d.deleteCommentAndBlockAuthorURI)):a.getNode(x)?H(c,new q(d.deleteCommentAndRemoveAuthorURI)):a.getNode(y)?H(c,new q(d.hideCommentURI)):a.getNode(z)?H(c,new q(d.groupMuteCommenterInfo.URI)):a.getNode(A)?d.reportIsModalDialog?I(c,new q(d.reportCommentURI)):H(c,new q(d.reportCommentURI)):a.getNode(s)&&(d.banUserFromPageURIParams&&g.loadModules(["MPagesBanUserUtils"],function(a){a.banUserFromPage(d.banUserFromPageURIParams.pageID,d.banUserFromPageURIParams.userID,d.banUserFromPageURIParams.userName,function(){C=!0})},"MCommentActionsFlyout"));b.layer.hide();a.kill()}var L,M;a=function(a){if(L)return;L=a;var b=a.getRoot();p.addSigil(b,B);M=[p.listen("m:page:unload",null,function(){while(M.length>0)M.pop().remove();L=null}),a.addListener("beforeshow",J,a),i.listen(b,"click",null,K)]};e.exports={registerFlyout:a}}),null);
__d("MUFICommentLikeLink",["DOM","MLiveData","MUFIReactionsUtils","MUFIRequest","Stratcom","Style","SubscriptionsHandler","UFIReactionTypes"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n){__p&&__p();function a(a){"use strict";this.likeLink=a.likeLink,this.requestID=a.requestID,this.feedbackTargetID=a.feedbackTargetID,this.feedbackTarget=h.get(a.feedbackTargetID),this.subscriptions=new m(),this.subscriptions.addSubscriptions(g.listen(this.likeLink,"click",null,this.onClick.bind(this)),this.feedbackTarget.listen("change",this.onChange.bind(this)),k.listen("m:page:unload",null,this.onUnload.bind(this))),this.likeLink.href&&(this.likeLink.setAttribute("data-uri",this.likeLink.href),this.likeLink.removeAttribute("href"))}a.prototype.onChange=function(){"use strict";__p&&__p();if(this.feedbackTarget.getData().request_id===this.requestID)return;var a=this.feedbackTarget.getData();a=a.viewerreaction;a&&!n.reactions[a]&&(a=null);var b=void 0,c;void 0;!a?(b="",c=n.reactions[n.LIKE].display_name):(b=n.reactions[a].color,c=n.reactions[a].display_name);g.setContent(this.likeLink,c);l.set(this.likeLink,"color",b)};a.prototype.onClick=function(event){"use strict";__p&&__p();event.prevent();var a=this.feedbackTarget.getData(),b=a.has_viewer_liked,c=(a.comment_id||a.ft_ent_identifier).split("_")[1];b=b?n.NONE:n.LIKE;var d=event.getNode("tag:a");d||(d=event.getNode("tag:div"));if(!d)return;d=j.getURI(d.getAttribute("href")||d.getAttribute("data-uri"));d.addQueryData("reaction_comment_id",c);d.addQueryData("viewer_reaction",b);j.send(this.feedbackTargetID,i.getReactionDataForComment(a,b),d)};a.prototype.onUnload=function(){"use strict";this.subscriptions&&this.subscriptions.release()};e.exports=a}),null);
__d("MUFICommentReactionBadge",["CSS","DOM","MLiveData","Stratcom","SubscriptionsHandler","UFIReactionIcons","UFIReactionTypes","createIxElement","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){__p&&__p();var p=3,q=16,r=m.ordering.reduce(function(a,b,c){a[b]=c;return a},{});function a(a){"use strict";this.feedbackTarget=i.get(a.feedbackTargetID),this.reactionBadge=a.reactionBadge,this.requestID=a.requestID,this.subscriptions=new k(),this.subscriptions.addSubscriptions(this.feedbackTarget.listen("change",this.onChange.bind(this)),j.listen("m:page:unload",null,this.onUnload.bind(this)))}a.prototype.onChange=function(){"use strict";__p&&__p();if(this.feedbackTarget.getData().request_id===this.requestID)return;var a=this.feedbackTarget.getData(),b=a.reactioncountmap,c=m.ordering.filter(function(a){a=b[a];return a&&a["default"]>0}).sort(function(a,c){var d=b[a]["default"],e=b[c]["default"];return d===e?r[a]-r[c]:e-d}).slice(0,p).map(function(a,b){b=n(l[a][q]);a=h.create("span",{className:"_4edl"});h.appendContent(a,b);return a});g.conditionClass(this.reactionBadge,"_4edm",!!a.reactioncount);h.setContent(this.reactionBadge.firstChild,c);h.setContent(this.reactionBadge.lastChild,a.reactioncountreduced)};a.prototype.onUnload=function(){"use strict";this.subscriptions&&this.subscriptions.release()};e.exports=a}),null);
__d("XLiveCommentRenderController",["XController"],(function(a,b,c,d,e,f){e.exports=b("XController").create("https://m.facebook.com/mobile/live_comment/render/",{})}),null);
__d("MUFILiveComments",["Bootloader","DOM","MLiveData","MParent","MRequest","Stratcom","SubscriptionsHandler","XLiveCommentRenderController","cx"],(function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o){"use strict";__p&&__p();var p="feed-ufi-comments",q="m-ufi";function a(a,b){this.rootElement=a,this.activityElement=h.create("div",{className:"_623b"}),this.rootElement.parentNode&&this.rootElement.parentNode.insertBefore(this.activityElement,this.rootElement.nextSibling),this.fetchedComments={},this.feedbackTargetID=b,this.feedbackTarget=i.get(this.feedbackTargetID),this.liveTypingData=null,this.handler=new m(),this.handler.addSubscriptions(l.listen("m:ufi:live-comments:new-comment",null,this.onNewComment.bind(this)),l.listen("m:page:unload",null,this.onUnload.bind(this))),this.getIsCommentFlyout()||this.initTypingIndicatorSubscription()}a.prototype.initTypingIndicatorSubscription=function(){g.loadModules(["MUFICommentTypingSubscriptionController"],function(a){a=new a(this.feedbackTargetID,function(a){this.liveTypingData=a,this.updateActivityUI()}.bind(this));a.didSubscribe()&&this.handler.addSubscriptions(a)}.bind(this),"MUFILiveComments")};a.prototype.onNewComment=function(event){__p&&__p();var a=event.getData(),b=a.feedbackTargetID,c=a.commentToken;if(b!==this.feedbackTargetID)return;var d=this.feedbackTarget.getData();if(!this.fetchedComments[c]){a=n.getURIBuilder().getURI();a=new k(a);a.setData({comment_token:c,dom_append_id:this.rootElement.id});a.listen("postprocess",function(){var a=d.comments||[];a.push(c);i.update(b,{comments:a});this.updateActivityUI(d.logging_interaction_key)}.bind(this));a.send();this.fetchedComments[c]=!0}};a.prototype.getIsCommentFlyout=function(){return!!j.bySigil(this.rootElement,p)};a.prototype.getCommentElement=function(a){a=a&&a.split("_")[1];return a?document.getElementById(a):null};a.prototype.updateActivityUI=function(a){g.loadModules(["MReactComponentRenderer","MUFILiveCommentActivity.react"],function(b,c){var d=this.liveTypingData||{},e=d.friendCount;d=d.otherCount;var f=this.feedbackTarget.getData();b(c,this.activityElement,{comments:f.comments||[],feedbackTargetID:this.feedbackTargetID,isAnyLiveTyping:Math.max(d,e)>0,disablePill:this.getIsCommentFlyout(),isFriendLiveTyping:e>0});b=f.logging_interaction_key;c=b?[b]:[];a&&a!==b&&c.push(a);l.invoke("m:ufi:live-comments:render",null,{ufi:j.bySigil(this.rootElement,q),logKeys:c})}.bind(this),"MUFILiveComments")};a.prototype.onUnload=function(){this.handler.release(),this.liveTypingData=null};e.exports=a}),null);
__d("MUFISutro",["CSS","cx"],(function(a,b,c,d,e,f,g,h){"use strict";a={commentRepliesExpanded:function(a){a=document.getElementById(a);a&&g.addClass(a,"_2a_l")}};e.exports=a}),null);
__d("MUfiNewCommentScroll",["DOM","MViewport","$","setTimeoutAcrossTransitions"],(function(a,b,c,d,e,f,g,h,i,j){__p&&__p();a=function(a){__p&&__p();var b=!0;if(!window.FW_ENABLED){var c=g.scry(document,"*","m-composer");b=c&&c.length<=1}if(b&&!!a.commentID){var d=i(a.commentID);j(function(){h.scrollToNode(d)},0)}};f.main=a}),null);
__d("MActionBubbleLayout",["CSS","cx"],(function(a,b,c,d,e,f,g,h){__p&&__p();function a(a){"use strict";this.$1=null,this.$2=a}a.prototype.enable=function(){"use strict";this.$1=this.$2.addListener("adjustDimensions",this.$3.bind(this)),this.$2.isShown()&&this.$2.updatePosition()};a.prototype.disable=function(){"use strict";this.$1.remove(),this.$1=null,this.$2.isShown()&&this.$2.updatePosition()};a.prototype.$3=function(){"use strict";var a=this.$2;this.$4(!0);var b=this.$2.getContentRoot();b.clientWidth>=a.getMaxWidth()&&this.$4(!1)};a.prototype.$4=function(a){"use strict";var b=this.$2;b.setWidth(a?"auto":"wide");b.applyWidth();g.conditionClass(b.getRoot(),"_55i0",a)};e.exports=a}),null);
__d("CommentPrivacyValue",[],(function(a,b,c,d,e,f){e.exports=Object.freeze({DEFAULT_PRIVACY:0,OWNER_OR_COMMENTER:1,FRIENDS_ONLY:2,FRIENDS_AND_POST_OWNER:3,SIDE_CONVERSATION:4,GRAPHQL_MULTIPLE_VALUE_HACK_DO_NOT_USE:-1})}),null);
__d("ReactComponentRenderer",["React","ReactDOM","warning"],(function(a,b,c,d,e,f,g,h,i){"use strict";__p&&__p();function a(a,b){this.klass=a,this.container=b,this.props={},this.component=null}a.prototype.replaceProps=function(a,b){this.props={},this.setProps(a,b)};a.prototype.setProps=function(a,b){if(this.klass==null)return;Object.assign(this.props,a);a=g.createElement(this.klass,this.props);var c=this;h.render(a,this.container,function(){c.component=this,b&&b.call(this)})};a.prototype.unmount=function(){h.unmountComponentAtNode(this.container),this.klass=null};e.exports=a}),null);